<div class="container">
  <div style="text-align: center; margin: 5%;">
    <h1>Lista de Farmacias</h1>
  </div>
  
  <div class="farmacia-cards-container">
    <mat-card *ngFor="let farmacia of dataSource.data" class="example-card" appearance="outlined">
      <!-- Header de la Card -->
      <mat-card-header>
        <mat-card-title>{{ farmacia.nombreFarmacia }}</mat-card-title>
        <mat-card-subtitle>Farmacia</mat-card-subtitle>
      </mat-card-header>

      <!-- Contenido de la Card -->
      <mat-card-content>
        <p><strong>Dirección:</strong> {{ farmacia.direccionFarmacia }}</p>
        <p><strong>Teléfono:</strong> {{ farmacia.telefonoFarmacia }}</p>
        <p><strong>Horario de Apertura:</strong> {{ farmacia.horarioAperturaFarmacia }}</p>
        <p><strong>Horario de Cierre:</strong> {{ farmacia.horarioCierreFarmacia }}</p>

        <!-- Aquí se mostrará el mapa con la ubicación de la farmacia -->
        <div class="map-container">
          <!-- Usamos el método sanitizado para el src del iframe -->
          <iframe
            width="100%"
            height="250"
            [src]="safeMapUrl(farmacia.mapUrl)"
            frameborder="0"
            style="border:0;"
            allowfullscreen>
          </iframe>
        </div>
      </mat-card-content>

      <!-- Acciones de la Card -->
      <mat-card-actions>
        <button mat-button [routerLink]="['ediciones', farmacia.idFarmacia]">
          <mat-icon>create</mat-icon> Actualizar
        </button>
        <button mat-button (click)="eliminar(farmacia.idFarmacia)">
          <mat-icon>delete</mat-icon> Eliminar
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
